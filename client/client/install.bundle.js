(()=>{const e=document.getElementById("buttonInstall");window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),window.deferredPrompt=e,console.log("beforeinstallprompt event captured"),installButton&&(installButton.style.display="block",installButton.addEventListener("click",installApp))})),e.addEventListener("click",(async()=>{if(console.log("Install button clicked"),e.style.display="none",window.deferredPrompt){window.deferredPrompt.prompt();const{outcome:e}=await window.deferredPrompt.userChoice;"accepted"===e?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),window.deferredPrompt=null}})),window.addEventListener("appinstalled",(e=>{console.log("PWA was installed")}))})();